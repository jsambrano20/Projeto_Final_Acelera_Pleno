{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../services/token.service\";\nimport * as i2 from \"src/app/services/cliente/cliente.service\";\nimport * as i3 from \"./../../services/transporte/transporte-service.service\";\nimport * as i4 from \"src/app/services/loader.service\";\nfunction LoginComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"input\", 4);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_1_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.cpf = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"button\", 5);\n    i0.ɵɵtext(3, \"Entrar\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.cpf);\n  }\n}\nfunction LoginComponent_div_2_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"label\", 9);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementStart(4, \"label\", 10);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r5.clientes.cpf);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r5.clientes.nome);\n  }\n}\nfunction LoginComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7);\n    i0.ɵɵtemplate(2, LoginComponent_div_2_div_2_Template, 6, 2, \"div\", 8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.mesas);\n  }\n}\nexport class LoginComponent {\n  constructor(tokenService, clienteService, transporte, loaderService) {\n    this.tokenService = tokenService;\n    this.clienteService = clienteService;\n    this.transporte = transporte;\n    this.loaderService = loaderService;\n    this.logado = false;\n  }\n  ngOnInit() {}\n  enviarObjeto() {\n    this.transporte.setObjeto(this.mesas);\n  }\n  submitForm() {\n    this.loaderService.show();\n    this.GetCliente(this.cpf);\n    setTimeout(() => {\n      if (this.mesas.length > 0) {\n        this.loaderService.hide();\n        alert('Logado com sucesso');\n        this.enviarObjeto();\n        this.logado = true;\n      } else {\n        this.loaderService.hide();\n        alert('Não localizado');\n        this.logado = false;\n      }\n    }, 800);\n  }\n  //Fazer o unsubscribe :D\n  GetCliente(cpf) {\n    this.tokenService.getToken().subscribe(tokenUser => {\n      this.token = tokenUser.token;\n      this.clienteService.getClienteByCPF(cpf, this.token).subscribe(mesa => {\n        this.mesas = mesa;\n        console.log(this.mesas);\n      });\n    });\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.TokenService), i0.ɵɵdirectiveInject(i2.ClienteService), i0.ɵɵdirectiveInject(i3.TransporteServiceService), i0.ɵɵdirectiveInject(i4.LoaderService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 3,\n  vars: 2,\n  consts: [[3, \"ngSubmit\"], [\"id\", \"notlogado\", \"class\", \"input-group input-group-sm mb-3\", 4, \"ngIf\"], [\"class\", \"col\", \"id\", \"logado\", 4, \"ngIf\"], [\"id\", \"notlogado\", 1, \"input-group\", \"input-group-sm\", \"mb-3\"], [\"type\", \"text\", \"id\", \"cpf\", \"name\", \"cpf\", \"placeholder\", \"CPF\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-secondary\", 2, \"height\", \"33px\"], [\"id\", \"logado\", 1, \"col\"], [1, \"col-sm-12\"], [4, \"ngFor\", \"ngForOf\"], [\"for\", \"cpf\", 2, \"color\", \"white\"], [\"for\", \"nome\", 2, \"color\", \"white\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_0_listener() {\n        return ctx.submitForm();\n      });\n      i0.ɵɵtemplate(1, LoginComponent_div_1_Template, 4, 1, \"div\", 1);\n      i0.ɵɵtemplate(2, LoginComponent_div_2_Template, 3, 1, \"div\", 2);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.logado);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.logado);\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IACEA,8BAA4E;IAEnCA;MAAAA;MAAA;MAAA;IAAA,EAAiB;IAAxDA,iBAAkG;IAClGA,iCAA8E;IAAAA,sBAAM;IAAAA,iBAAS;;;;IADtDA,eAAiB;IAAjBA,oCAAiB;;;;;IAKtDA,2BAAgC;IACSA,YAAqB;IAAAA,iBAAQ;IACpEA,qBAAM;IACNA,iCAAwC;IAAAA,YAAsB;IAAAA,iBAAQ;;;;IAF/BA,eAAqB;IAArBA,0CAAqB;IAEpBA,eAAsB;IAAtBA,2CAAsB;;;;;IALpEA,8BAA4C;IAExCA,qEAIM;IACRA,iBAAM;;;;IALkBA,eAAQ;IAARA,sCAAQ;;;ACKpC,OAAM,MAAOC,cAAc;EAMzBC,YACUC,YAA0B,EAC1BC,cAA8B,EAC9BC,UAAoC,EACrCC,aAA2B;IAH1B,iBAAY,GAAZH,YAAY;IACZ,mBAAc,GAAdC,cAAc;IACd,eAAU,GAAVC,UAAU;IACX,kBAAa,GAAbC,aAAa;IANtB,WAAM,GAAY,KAAK;EAOpB;EAEHC,QAAQ,IAER;EAEAC,YAAY;IACV,IAAI,CAACH,UAAU,CAACI,SAAS,CAAC,IAAI,CAACC,KAAK,CAAC;EACvC;EAEAC,UAAU;IACR,IAAI,CAACL,aAAa,CAACM,IAAI,EAAE;IACvB,IAAI,CAACC,UAAU,CAAC,IAAI,CAACC,GAAG,CAAC;IACzBC,UAAU,CAAC,MAAK;MACd,IAAI,IAAI,CAACL,KAAK,CAACM,MAAM,GAAG,CAAC,EAAE;QACzB,IAAI,CAACV,aAAa,CAACW,IAAI,EAAE;QACzBC,KAAK,CAAC,oBAAoB,CAAC;QAC3B,IAAI,CAACV,YAAY,EAAE;QACrB,IAAI,CAACW,MAAM,GAAG,IAAI;OACnB,MAAM;QACL,IAAI,CAACb,aAAa,CAACW,IAAI,EAAE;QACzBC,KAAK,CAAC,gBAAgB,CAAC;QACvB,IAAI,CAACC,MAAM,GAAG,KAAK;;IAEvB,CAAC,EAAE,GAAG,CAAC;EACT;EAEA;EACAN,UAAU,CAACC,GAAW;IACpB,IAAI,CAACX,YAAY,CAACiB,QAAQ,EAAE,CAACC,SAAS,CAAEC,SAAS,IAAI;MACnD,IAAI,CAACC,KAAK,GAAGD,SAAS,CAACC,KAAK;MAC5B,IAAI,CAACnB,cAAc,CAChBoB,eAAe,CAACV,GAAG,EAAE,IAAI,CAACS,KAAK,CAAC,CAChCF,SAAS,CAAEI,IAAY,IAAI;QAC1B,IAAI,CAACf,KAAK,GAAGe,IAAI;QACjBC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACjB,KAAK,CAAC;MACzB,CAAC,CAAC;IACN,CAAC,CAAC;EACJ;;AAjDWT,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAA2B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDb3BhC,+BAAgC;MAA1BA;QAAA,OAAYiC,gBAAY;MAAA,EAAC;MAC7BjC,+DAIM;MACNA,+DAQM;MACRA,iBAAO;;;MAdgBA,eAAa;MAAbA,kCAAa;MAKJA,eAAY;MAAZA,iCAAY","names":["i0","LoginComponent","constructor","tokenService","clienteService","transporte","loaderService","ngOnInit","enviarObjeto","setObjeto","mesas","submitForm","show","GetCliente","cpf","setTimeout","length","hide","alert","logado","getToken","subscribe","tokenUser","token","getClienteByCPF","mesa","console","log","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["E:\\AceleraPL\\AceleraPlenoAngular\\src\\app\\component\\login\\login.component.html","E:\\AceleraPL\\AceleraPlenoAngular\\src\\app\\component\\login\\login.component.ts"],"sourcesContent":["<form (ngSubmit)=\"submitForm()\">\r\n  <div id=\"notlogado\" *ngIf=\"!logado\" class=\"input-group input-group-sm mb-3\">\r\n    <!-- <label for=\"cpf\">CPF</label> -->\r\n    <input type=\"text\" id=\"cpf\" name=\"cpf\" [(ngModel)]=\"cpf\" class=\"form-control\" placeholder=\"CPF\" />\r\n    <button type=\"submit\" class=\"btn btn-outline-secondary\" style=\"height: 33px;\">Entrar</button>\r\n  </div>\r\n  <div class=\"col\" id=\"logado\" *ngIf=\"logado\">\r\n    <div class=\"col-sm-12\">\r\n      <div *ngFor=\"let item of mesas\">\r\n        <label style=\"color: white;\" for=\"cpf\">{{item.clientes.cpf}}</label>\r\n        <br />\r\n        <label style=\"color: white;\" for=\"nome\">{{item.clientes.nome}}</label>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</form>\r\n\r\n","import { TransporteServiceService } from './../../services/transporte/transporte-service.service';\r\nimport { Mesa } from 'src/app/models/mesa';\r\nimport { TokenService } from './../../services/token.service';\r\nimport { ClienteService } from 'src/app/services/cliente/cliente.service';\r\nimport { Component } from '@angular/core';\r\nimport { LoaderService } from 'src/app/services/loader.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css'],\r\n})\r\nexport class LoginComponent {\r\n  token: string;\r\n  mesas: Mesa[];\r\n  public cpf: string;\r\n  logado: boolean = false;\r\n\r\n  constructor(\r\n    private tokenService: TokenService,\r\n    private clienteService: ClienteService,\r\n    private transporte: TransporteServiceService,\r\n    public loaderService:LoaderService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  enviarObjeto() {\r\n    this.transporte.setObjeto(this.mesas);\r\n  }\r\n\r\n  submitForm() {\r\n    this.loaderService.show();\r\n      this.GetCliente(this.cpf);\r\n      setTimeout(() => {\r\n        if (this.mesas.length > 0) {\r\n          this.loaderService.hide();\r\n          alert('Logado com sucesso');\r\n          this.enviarObjeto();\r\n        this.logado = true;\r\n      } else {\r\n        this.loaderService.hide();\r\n        alert('Não localizado');\r\n        this.logado = false;\r\n      }\r\n    }, 800);\r\n  }\r\n\r\n  //Fazer o unsubscribe :D\r\n  GetCliente(cpf: string) {\r\n    this.tokenService.getToken().subscribe((tokenUser) => {\r\n      this.token = tokenUser.token;\r\n      this.clienteService\r\n        .getClienteByCPF(cpf, this.token)\r\n        .subscribe((mesa: Mesa[]) => {\r\n          this.mesas = mesa;\r\n          console.log(this.mesas);\r\n        });\r\n    });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}