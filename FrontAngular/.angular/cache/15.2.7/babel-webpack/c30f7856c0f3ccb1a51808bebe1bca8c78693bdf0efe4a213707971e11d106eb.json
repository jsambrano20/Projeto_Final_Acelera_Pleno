{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet MenuComponent = class MenuComponent {\n  constructor(tokenService, pratoService, pedidosService, transporte, loginComponent) {\n    this.tokenService = tokenService;\n    this.pratoService = pratoService;\n    this.pedidosService = pedidosService;\n    this.transporte = transporte;\n    this.loginComponent = loginComponent;\n    this.idMesa = '013ed28f-d7cf-4afc-976c-3196851ad772';\n    this.cpf = '11111111111';\n    this.realizarPedido = {\n      mesaid: this.idMesa,\n      pratoid: 'C41B0305-14F3-4E49-90A4-08DB3C65CB9C',\n      cpf: this.cpf,\n      quantidade: 4\n    };\n  }\n  ngOnInit() {\n    this.cpf = this.loginComponent.mesas[0].cpf; // acessando o cliente armazenado no LoginComponent\n    this.idMesa = this.loginComponent.mesas[0].id;\n    this.GetPratos();\n  }\n  RealizarPedido() {\n    this.realizarPedido.mesaid = this.idMesa;\n    this.realizarPedido.cpf = this.cpf;\n    this.postPedido(this.realizarPedido);\n  }\n  postPedido(pedido) {\n    this.tokenService.getToken().subscribe(tokenUser => {\n      this.token = tokenUser.token;\n      this.pedidosService.postPedido(this.realizarPedido, this.token).subscribe(pedidos => {\n        this.pedido = pedidos;\n        console.log(this.pedido);\n      });\n    });\n  }\n  GetPedidosCPfMesa() {\n    this.tokenService.getToken().subscribe(tokenUser => {\n      this.token = tokenUser.token;\n      this.pedidosService.getPedidosByMesaCPF(this.cpf, this.idMesa, this.token).subscribe(pedidos => {\n        this.pedidos = pedidos;\n        console.log(this.pedidos);\n      });\n    });\n  }\n  GetPratos() {\n    this.tokenService.getToken().subscribe(tokenUser => {\n      this.token = tokenUser.token;\n      this.pratoService.getPratos(this.token).subscribe(pratos => {\n        this.pratos = pratos.filter(prato => prato.status);\n        console.log(this.pratos);\n      });\n    });\n  }\n};\nMenuComponent = __decorate([Component({\n  selector: 'app-menu',\n  templateUrl: './menu.component.html',\n  styleUrls: ['./menu.component.css']\n})], MenuComponent);\nexport { MenuComponent };","map":{"version":3,"mappings":"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","names":["Component","MenuComponent","constructor","tokenService","pratoService","pedidosService","transporte","loginComponent","mesaid","idMesa","pratoid","cpf","quantidade","ngOnInit","mesas","id","GetPratos","RealizarPedido","realizarPedido","postPedido","pedido","getToken","subscribe","tokenUser","token","pedidos","console","log","GetPedidosCPfMesa","getPedidosByMesaCPF","getPratos","pratos","filter","prato","status","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["E:\\AceleraPL\\AceleraPlenoAngular\\src\\app\\component\\menu\\menu.component.ts"],"sourcesContent":["import { Mesa } from 'src/app/models/mesa';\r\nimport { Component } from '@angular/core';\r\nimport { Prato } from 'src/app/models/prato';\r\nimport { Pedidos } from 'src/app/models/pedidos';\r\nimport { PratoService } from 'src/app/services/prato/prato.service';\r\nimport { TokenService } from 'src/app/services/token.service';\r\nimport { PedidoService } from 'src/app/services/pedido/pedido.service';\r\nimport { RealizarPedido } from 'src/app/models/realizar-pedido';\r\nimport { TransporteServiceService } from './../../services/transporte/transporte-service.service';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-menu',\r\n  templateUrl: './menu.component.html',\r\n  styleUrls: ['./menu.component.css'],\r\n})\r\nexport class MenuComponent {\r\n  token: string;\r\n  pratos: Prato[];\r\n  pedidos: Pedidos[];\r\n  pedido: Pedidos;\r\n  mesas: Mesa[];\r\n  idMesa: string = '013ed28f-d7cf-4afc-976c-3196851ad772';\r\n  cpf: string = '11111111111';\r\n\r\n  realizarPedido: RealizarPedido = {\r\n    mesaid: this.idMesa,\r\n    pratoid: 'C41B0305-14F3-4E49-90A4-08DB3C65CB9C',\r\n    cpf: this.cpf,\r\n    quantidade: 4,\r\n  };\r\n\r\n\r\n  constructor(\r\n    private tokenService: TokenService,\r\n    private pratoService: PratoService,\r\n    private pedidosService: PedidoService,\r\n    private transporte: TransporteServiceService,\r\n    private loginComponent: LoginComponent\r\n  ) {}\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.cpf = this.loginComponent.mesas[0].cpf; // acessando o cliente armazenado no LoginComponent\r\n    this.idMesa = this.loginComponent.mesas[0].id;\r\n    this.GetPratos();\r\n  }\r\n\r\n  RealizarPedido() {\r\n    this.realizarPedido.mesaid = this.idMesa;\r\n    this.realizarPedido.cpf = this.cpf;\r\n    this.postPedido(this.realizarPedido);\r\n  }\r\n\r\n  postPedido(pedido: RealizarPedido){\r\n    this.tokenService.getToken().subscribe((tokenUser) => {\r\n      this.token = tokenUser.token;\r\n      this.pedidosService\r\n        .postPedido(this.realizarPedido, this.token)\r\n        .subscribe((pedidos: Pedidos) => {\r\n          this.pedido = pedidos;\r\n          console.log(this.pedido);\r\n        });\r\n    });\r\n  }\r\n\r\n  GetPedidosCPfMesa() {\r\n    this.tokenService.getToken().subscribe((tokenUser) => {\r\n      this.token = tokenUser.token;\r\n      this.pedidosService\r\n        .getPedidosByMesaCPF(this.cpf, this.idMesa, this.token)\r\n        .subscribe((pedidos: Pedidos[]) => {\r\n          this.pedidos = pedidos;\r\n          console.log(this.pedidos);\r\n        });\r\n    });\r\n  }\r\n\r\n\r\n  GetPratos() {\r\n    this.tokenService.getToken().subscribe((tokenUser) => {\r\n      this.token = tokenUser.token;\r\n      this.pratoService.getPratos(this.token).subscribe((pratos: Prato[]) => {\r\n            this.pratos = pratos.filter(prato=>prato.status);\r\n        console.log(this.pratos);\r\n      });\r\n    });\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}