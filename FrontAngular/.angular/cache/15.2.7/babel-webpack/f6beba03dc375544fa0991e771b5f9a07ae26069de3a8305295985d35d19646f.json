{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/token.service\";\nimport * as i2 from \"src/app/services/prato/prato.service\";\nimport * as i3 from \"src/app/services/pedido/pedido.service\";\nimport * as i4 from \"./../../services/transporte/transporte-service.service\";\nfunction MenuComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 7)(2, \"div\", 8);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 9);\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵelementStart(6, \"figure\");\n    i0.ɵɵelement(7, \"img\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"h5\", 11);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"input\", 12, 13);\n    i0.ɵɵlistener(\"change\", function MenuComponent_div_10_Template_input_change_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const item_r1 = restoredCtx.$implicit;\n      const _r2 = i0.ɵɵreference(14);\n      return i0.ɵɵresetView(item_r1.quantidade = _r2.value);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function MenuComponent_div_10_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.RealizarPedido(item_r1.id));\n    });\n    i0.ɵɵtext(16, \"Pedido\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", item_r1.titulo, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"data:image/jpeg;base64,\", item_r1.foto, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", item_r1.descricao, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"R$: \", item_r1.valor, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", item_r1.quantidade);\n  }\n}\nexport class MenuComponent {\n  constructor(tokenService, pratoService, pedidosService, transporte) {\n    this.tokenService = tokenService;\n    this.pratoService = pratoService;\n    this.pedidosService = pedidosService;\n    this.transporte = transporte;\n    this.idMesa = '013ed28f-d7cf-4afc-976c-3196851ad772';\n    this.cpf = '11111111111';\n    //@ViewChild('quantidadeInput', {static: false}) quantidadeInput: ElementRef;\n    this.realizarPedido = {\n      mesaid: '',\n      pratoid: '',\n      cpf: '',\n      quantidade: 0\n    };\n  }\n  ngOnInit() {\n    this.GetPratos();\n  }\n  TrazerDados() {\n    this.transporte.getObjeto().subscribe(obj => {\n      this.mesas = obj;\n      console.log(this.mesas);\n    });\n  }\n  RealizarPedido(id) {\n    console.log(Number(this.pratos.find(a => a.id === id)?.quantidade));\n    this.quantidade = Number(this.pratos.find(a => a.id === id)?.quantidade);\n    this.TrazerDados();\n    setTimeout(() => {\n      console.log(this.mesas[0].clientes.cpf);\n      this.realizarPedido.cpf = this.mesas[0].clientes.cpf.toString();\n      this.realizarPedido.mesaid = this.mesas[0].id.toString();\n      this.realizarPedido.pratoid = id;\n      this.realizarPedido.quantidade = this.quantidade;\n      this.postPedido(this.realizarPedido);\n    }, 1000);\n  }\n  postPedido(pedido) {\n    this.tokenService.getToken().subscribe(tokenUser => {\n      this.token = tokenUser.token;\n      this.pedidosService.postPedido(pedido, this.token).subscribe(pedidos => {\n        this.pedido = pedidos;\n        console.log(this.pedido);\n      });\n    });\n  }\n  GetPedidosCPfMesa() {\n    this.tokenService.getToken().subscribe(tokenUser => {\n      this.token = tokenUser.token;\n      this.pedidosService.getPedidosByMesaCPF(this.cpf, this.idMesa, this.token).subscribe(pedidos => {\n        this.pedidos = pedidos;\n        console.log(this.pedidos);\n      });\n    });\n  }\n  GetPratos() {\n    this.tokenService.getToken().subscribe(tokenUser => {\n      this.token = tokenUser.token;\n      this.pratoService.getPratos(this.token).subscribe(pratos => {\n        this.pratos = pratos.filter(prato => prato.status);\n        console.log(this.pratos);\n      });\n    });\n  }\n}\nMenuComponent.ɵfac = function MenuComponent_Factory(t) {\n  return new (t || MenuComponent)(i0.ɵɵdirectiveInject(i1.TokenService), i0.ɵɵdirectiveInject(i2.PratoService), i0.ɵɵdirectiveInject(i3.PedidoService), i0.ɵɵdirectiveInject(i4.TransporteServiceService));\n};\nMenuComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MenuComponent,\n  selectors: [[\"app-menu\"]],\n  decls: 11,\n  vars: 1,\n  consts: [[\"id\", \"blog\", 1, \"blog\"], [1, \"container\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"titlepage\"], [1, \"ContainerCard\"], [4, \"ngFor\", \"ngForOf\"], [1, \"card\", \"text-white\", \"text-center\", \"mb-3\", 2, \"background-color\", \"rgb(32, 75, 107)\", \"max-width\", \"18rem\"], [1, \"card-header\", 2, \"background-color\", \"rgb(37,88,126)\"], [1, \"blog-box\", 2, \"text-align\", \"-webkit-center\"], [2, \"width\", \"100px\", \"height\", \"80px\", 3, \"src\"], [2, \"color\", \"mediumseagreen\"], [\"type\", \"number\", \"name\", \"quantidade\", 1, \"form-control\", 2, \"width\", \"80%\", \"height\", \"10px\", 3, \"value\", \"change\"], [\"quantidadeInput\", \"\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"]],\n  template: function MenuComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h2\");\n      i0.ɵɵtext(6, \"Menu Master\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"span\");\n      i0.ɵɵtext(8, \"Foi desenvolvido para os clientes realizarem os pedidos\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(9, \"div\", 5);\n      i0.ɵɵtemplate(10, MenuComponent_div_10_Template, 17, 5, \"div\", 6);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngForOf\", ctx.pratos);\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","MenuComponent","constructor","tokenService","pratoService","pedidosService","transporte","mesaid","pratoid","cpf","quantidade","ngOnInit","GetPratos","TrazerDados","getObjeto","subscribe","obj","mesas","console","log","RealizarPedido","id","Number","pratos","find","a","setTimeout","clientes","realizarPedido","toString","postPedido","pedido","getToken","tokenUser","token","pedidos","GetPedidosCPfMesa","getPedidosByMesaCPF","idMesa","getPratos","filter","prato","status","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["E:\\AceleraPL\\AceleraPlenoAngular\\src\\app\\component\\menu\\menu.component.html","E:\\AceleraPL\\AceleraPlenoAngular\\src\\app\\component\\menu\\menu.component.ts"],"sourcesContent":["<!-- <section>\r\n  <div *ngFor=\"let item of pratos\">\r\n    <div *ngIf=\"item.status\">\r\n      <div>\r\n        <img src=\"data:image/jpeg;base64,{{ item.foto }}\" />\r\n      </div>\r\n      <label>{{ item.titulo }}</label>\r\n      <label>{{ item.descricao }} </label>\r\n      <label>R$: {{ item.valor }}</label>\r\n      <button>Pedir</button>\r\n    </div>\r\n  </div>\r\n</section> -->\r\n<div id=\"blog\" class=\"blog\">\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <div class=\"titlepage\">\r\n          <h2>Menu Master</h2>\r\n          <span>Foi desenvolvido para os clientes realizarem os pedidos</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"ContainerCard\">\r\n      <div *ngFor=\"let item of pratos\">\r\n        <div class=\"card text-white text-center mb-3\" style=\"background-color:rgb(32, 75, 107); max-width: 18rem;\">\r\n          <div class=\"card-header\" style=\"background-color:rgb(37,88,126)\"> {{ item.titulo }}</div>\r\n          <div class=\"blog-box\" style=\"text-align: -webkit-center;\">\r\n            <br>\r\n            <figure> <img src=\"data:image/jpeg;base64,{{ item.foto }}\" style=\"width: 100px; height: 80px;\" />\r\n            </figure>\r\n            <!-- <div class=\"travel\">\r\n              <span>{{ item.titulo }}</span>\r\n            </div> -->\r\n            <br>\r\n            <p>{{ item.descricao }} </p>\r\n            <h5 style=\"color: mediumseagreen;\">R$: {{ item.valor }}</h5>\r\n            <input type=\"number\" name=\"quantidade\" [value]=\"item.quantidade\"\r\n              (change)=\"item.quantidade = quantidadeInput.value\" #quantidadeInput class=\"form-control\"\r\n              style=\"width: 80%; height: 10px;\" />\r\n            <button (click)=\"RealizarPedido(item.id)\" class=\"btn btn-secondary\">Pedido</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>","import { Mesa } from 'src/app/models/mesa';\r\nimport { Component, ElementRef, ViewChild } from '@angular/core';\r\nimport { Prato } from 'src/app/models/prato';\r\nimport { Pedidos } from 'src/app/models/pedidos';\r\nimport { PratoService } from 'src/app/services/prato/prato.service';\r\nimport { TokenService } from 'src/app/services/token.service';\r\nimport { PedidoService } from 'src/app/services/pedido/pedido.service';\r\nimport { RealizarPedido } from 'src/app/models/realizar-pedido';\r\nimport { TransporteServiceService } from './../../services/transporte/transporte-service.service';\r\n\r\n@Component({\r\n  selector: 'app-menu',\r\n  templateUrl: './menu.component.html',\r\n  styleUrls: ['./menu.component.css'],\r\n})\r\nexport class MenuComponent {\r\n  token: string;\r\n  pratos: Prato[];\r\n  pedidos: Pedidos[];\r\n  pedido: Pedidos;\r\n  mesas: Mesa[];\r\n  idMesa: string = '013ed28f-d7cf-4afc-976c-3196851ad772';\r\n  cpf: string = '11111111111';\r\n  quantidade: number;\r\n  //@ViewChild('quantidadeInput', {static: false}) quantidadeInput: ElementRef;\r\n\r\n  realizarPedido: RealizarPedido = {\r\n    mesaid: '',\r\n    pratoid: '',\r\n    cpf: '',\r\n    quantidade: 0,\r\n  };\r\n\r\n  constructor(\r\n    private tokenService: TokenService,\r\n    private pratoService: PratoService,\r\n    private pedidosService: PedidoService,\r\n    private transporte: TransporteServiceService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.GetPratos();\r\n  }\r\n\r\n  TrazerDados() {\r\n    this.transporte.getObjeto().subscribe((obj) => {\r\n      this.mesas = obj;\r\n      console.log(this.mesas);\r\n    });\r\n  }\r\n\r\n  RealizarPedido(id: string) {\r\n    console.log(Number(this.pratos.find((a) => a.id === id)?.quantidade));\r\n    this.quantidade=Number(this.pratos.find((a) => a.id === id)?.quantidade)\r\n    this.TrazerDados();\r\n    setTimeout(() => {\r\n      console.log(this.mesas[0].clientes.cpf);\r\n      this.realizarPedido.cpf = this.mesas[0].clientes.cpf.toString();\r\n      this.realizarPedido.mesaid = this.mesas[0].id.toString();\r\n      this.realizarPedido.pratoid = id;\r\n      this.realizarPedido.quantidade = this.quantidade;\r\n      this.postPedido(this.realizarPedido);\r\n    }, 1000);\r\n  }\r\n\r\n  postPedido(pedido: RealizarPedido) {\r\n    this.tokenService.getToken().subscribe((tokenUser) => {\r\n      this.token = tokenUser.token;\r\n      this.pedidosService\r\n        .postPedido(pedido, this.token)\r\n        .subscribe((pedidos: Pedidos) => {\r\n          this.pedido = pedidos;\r\n          console.log(this.pedido);\r\n        });\r\n    });\r\n  }\r\n\r\n  GetPedidosCPfMesa() {\r\n    this.tokenService.getToken().subscribe((tokenUser) => {\r\n      this.token = tokenUser.token;\r\n      this.pedidosService\r\n        .getPedidosByMesaCPF(this.cpf, this.idMesa, this.token)\r\n        .subscribe((pedidos: Pedidos[]) => {\r\n          this.pedidos = pedidos;\r\n          console.log(this.pedidos);\r\n        });\r\n    });\r\n  }\r\n\r\n  GetPratos() {\r\n    this.tokenService.getToken().subscribe((tokenUser) => {\r\n      this.token = tokenUser.token;\r\n      this.pratoService.getPratos(this.token).subscribe((pratos: Prato[]) => {\r\n        this.pratos = pratos.filter((prato) => prato.status);\r\n        console.log(this.pratos);\r\n      });\r\n    });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}