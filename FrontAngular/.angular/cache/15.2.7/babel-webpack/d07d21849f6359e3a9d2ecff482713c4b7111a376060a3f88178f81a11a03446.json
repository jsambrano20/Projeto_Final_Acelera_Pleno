{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../services/token.service\";\nimport * as i2 from \"src/app/services/cliente/cliente.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(tokenService, clienteService, router) {\n    this.tokenService = tokenService;\n    this.clienteService = clienteService;\n    this.router = router;\n  }\n  ngOnInit() {}\n  submitForm() {\n    debugger;\n    this.GetCliente(this.cpf);\n    setTimeout(() => {\n      if (this.mesa.length > 0) {\n        alert('Parabuains, Asmuei');\n      } else {\n        alert('Não localizado');\n      }\n    }, 700);\n  }\n  //Fazer o unsubscribe :D\n  GetCliente(cpf) {\n    debugger;\n    this.tokenService.getToken().subscribe(tokenUser => {\n      this.token = tokenUser.token;\n      this.clienteService.getClienteByCPF(cpf, this.token).subscribe(mesa => {\n        this.mesa = mesa;\n        console.log(this.mesa);\n      });\n    });\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.TokenService), i0.ɵɵdirectiveInject(i2.ClienteService), i0.ɵɵdirectiveInject(i3.Router));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 22,\n  vars: 1,\n  consts: [[3, \"ngSubmit\"], [\"for\", \"cpf\"], [\"type\", \"text\", \"id\", \"cpf\", \"name\", \"cpf\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\"], [\"role\", \"alert\", 1, \"alert\", \"alert-primary\"], [\"role\", \"alert\", 1, \"alert\", \"alert-secondary\"], [\"role\", \"alert\", 1, \"alert\", \"alert-success\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"], [\"role\", \"alert\", 1, \"alert\", \"alert-warning\"], [\"role\", \"alert\", 1, \"alert\", \"alert-info\"], [\"role\", \"alert\", 1, \"alert\", \"alert-light\"], [\"role\", \"alert\", 1, \"alert\", \"alert-dark\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_0_listener() {\n        return ctx.submitForm();\n      });\n      i0.ɵɵelementStart(1, \"label\", 1);\n      i0.ɵɵtext(2, \"CPF\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_3_listener($event) {\n        return ctx.cpf = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"button\", 3);\n      i0.ɵɵtext(5, \"Entrar\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"div\", 4);\n      i0.ɵɵtext(7, \" A simple primary alert\\u2014check it out!\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 5);\n      i0.ɵɵtext(9, \" A simple secondary alert\\u2014check it out!\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 6);\n      i0.ɵɵtext(11, \" A simple success alert\\u2014check it out!\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 7);\n      i0.ɵɵtext(13, \" A simple danger alert\\u2014check it out!\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 8);\n      i0.ɵɵtext(15, \" A simple warning alert\\u2014check it out!\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 9);\n      i0.ɵɵtext(17, \" A simple info alert\\u2014check it out!\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 10);\n      i0.ɵɵtext(19, \" A simple light alert\\u2014check it out!\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\", 11);\n      i0.ɵɵtext(21, \" A simple dark alert\\u2014check it out!\\n\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.cpf);\n    }\n  },\n  dependencies: [i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;AAcA,OAAM,MAAOA,cAAc;EAKzBC,YACUC,YAA0B,EAC1BC,cAA8B,EAC9BC,MAAc;IAFd,iBAAY,GAAZF,YAAY;IACZ,mBAAc,GAAdC,cAAc;IACd,WAAM,GAANC,MAAM;EACb;EAEHC,QAAQ,IAAI;EAEZC,UAAU;IACR;IACE,IAAI,CAACC,UAAU,CAAC,IAAI,CAACC,GAAG,CAAC;IAC3BC,UAAU,CAAC,MAAK;MACd,IAAI,IAAI,CAACC,IAAI,CAACC,MAAM,GAAG,CAAC,EAAE;QACxBC,KAAK,CAAC,oBAAoB,CAAC;OAC5B,MAAM;QACLA,KAAK,CAAC,gBAAgB,CAAC;;IAE3B,CAAC,EAAE,GAAG,CAAC;EACT;EAEA;EACAL,UAAU,CAACC,GAAW;IACpB;IACA,IAAI,CAACN,YAAY,CAACW,QAAQ,EAAE,CAACC,SAAS,CAAEC,SAAS,IAAI;MACnD,IAAI,CAACC,KAAK,GAAGD,SAAS,CAACC,KAAK;MAC5B,IAAI,CAACb,cAAc,CAChBc,eAAe,CAACT,GAAG,EAAE,IAAI,CAACQ,KAAK,CAAC,CAChCF,SAAS,CAAEJ,IAAY,IAAI;QAC1B,IAAI,CAACA,IAAI,GAAGA,IAAI;QAChBQ,OAAO,CAACC,GAAG,CAAC,IAAI,CAACT,IAAI,CAAC;MACxB,CAAC,CAAC;IACN,CAAC,CAAC;EACJ;;AArCWV,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAoB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCd3BC,+BAAgC;MAA1BA;QAAA,OAAYC,gBAAY;MAAA,EAAC;MAC7BD,gCAAiB;MAAAA,mBAAG;MAAAA,iBAAQ;MAC5BA,gCAA2D;MAApBA;QAAA;MAAA,EAAiB;MAAxDA,iBAA2D;MAC3DA,iCAAsB;MAAAA,sBAAM;MAAAA,iBAAS;MAEvCA,8BAA8C;MAC5CA,4DACF;MAAAA,iBAAM;MACNA,8BAAgD;MAC9CA,8DACF;MAAAA,iBAAM;MACNA,+BAA8C;MAC5CA,6DACF;MAAAA,iBAAM;MACNA,+BAA6C;MAC3CA,4DACF;MAAAA,iBAAM;MACNA,+BAA8C;MAC5CA,6DACF;MAAAA,iBAAM;MACNA,+BAA2C;MACzCA,0DACF;MAAAA,iBAAM;MACNA,gCAA4C;MAC1CA,2DACF;MAAAA,iBAAM;MACNA,gCAA2C;MACzCA,0DACF;MAAAA,iBAAM;;;MA1BmCA,eAAiB;MAAjBA,iCAAiB","names":["LoginComponent","constructor","tokenService","clienteService","router","ngOnInit","submitForm","GetCliente","cpf","setTimeout","mesa","length","alert","getToken","subscribe","tokenUser","token","getClienteByCPF","console","log","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["E:\\AceleraPL\\AceleraPlenoAngular\\src\\app\\component\\login\\login.component.ts","E:\\AceleraPL\\AceleraPlenoAngular\\src\\app\\component\\login\\login.component.html"],"sourcesContent":["import { Observable, lastValueFrom, firstValueFrom, Subscription } from 'rxjs';\r\nimport { Mesa } from './../../models/mesa';\r\nimport { TokenService } from './../../services/token.service';\r\nimport { ClienteService } from 'src/app/services/cliente/cliente.service';\r\nimport { Cliente } from './../../models/cliente';\r\nimport { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Tokenretorno } from 'src/app/models/tokenretorno';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css'],\r\n})\r\nexport class LoginComponent {\r\n  token: string;\r\n  mesa: Mesa[];\r\n  public cpf: string;\r\n\r\n  constructor(\r\n    private tokenService: TokenService,\r\n    private clienteService: ClienteService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit() {}\r\n\r\n  submitForm() {\r\n    debugger\r\n      this.GetCliente(this.cpf);\r\n    setTimeout(() => {\r\n      if (this.mesa.length > 0) {\r\n        alert('Parabuains, Asmuei');\r\n      } else {\r\n        alert('Não localizado');\r\n      }\r\n    }, 700);\r\n  }\r\n\r\n  //Fazer o unsubscribe :D\r\n  GetCliente(cpf: string) {\r\n    debugger\r\n    this.tokenService.getToken().subscribe((tokenUser) => {\r\n      this.token = tokenUser.token;\r\n      this.clienteService\r\n        .getClienteByCPF(cpf, this.token)\r\n        .subscribe((mesa: Mesa[]) => {\r\n          this.mesa = mesa;\r\n          console.log(this.mesa);\r\n        });\r\n    });\r\n  }\r\n}\r\n","<form (ngSubmit)=\"submitForm()\">\r\n  <label for=\"cpf\">CPF</label>\r\n  <input type=\"text\" id=\"cpf\" name=\"cpf\" [(ngModel)]=\"cpf\" />\r\n  <button type=\"submit\">Entrar</button>\r\n</form>\r\n<div class=\"alert alert-primary\" role=\"alert\">\r\n  A simple primary alert—check it out!\r\n</div>\r\n<div class=\"alert alert-secondary\" role=\"alert\">\r\n  A simple secondary alert—check it out!\r\n</div>\r\n<div class=\"alert alert-success\" role=\"alert\">\r\n  A simple success alert—check it out!\r\n</div>\r\n<div class=\"alert alert-danger\" role=\"alert\">\r\n  A simple danger alert—check it out!\r\n</div>\r\n<div class=\"alert alert-warning\" role=\"alert\">\r\n  A simple warning alert—check it out!\r\n</div>\r\n<div class=\"alert alert-info\" role=\"alert\">\r\n  A simple info alert—check it out!\r\n</div>\r\n<div class=\"alert alert-light\" role=\"alert\">\r\n  A simple light alert—check it out!\r\n</div>\r\n<div class=\"alert alert-dark\" role=\"alert\">\r\n  A simple dark alert—check it out!\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}